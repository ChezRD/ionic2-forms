<ion-navbar>
    <button menuToggle>
        <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Form with Validation</ion-title>
</ion-navbar>
<ion-content padding class="getting-started">
    <p>
        Form values submitted will be displayed in console. F12 on Chrome to open console
    </p>
    <ion-list inset>
        <form [ngFormModel]="myForm" (ngSubmit)="onSubmit(myForm.value)">
            <ion-item>
                <ion-label floating>Subject</ion-label>
                <ion-input type="text" [ngFormControl]="myForm.controls['subject']"></ion-input>
            </ion-item>
            <p *ngIf="!subject.valid && subject.touched" danger>Subject is empty</p>
            <p *ngIf="subject.hasError('required') && subject.touched" danger>Subject is required</p>
            <ion-item>
                <ion-label floating>Message</ion-label>
                <ion-textarea type="text" [ngFormControl]="myForm.controls['message']"></ion-textarea>
            </ion-item>
            <p *ngIf="!message.valid && message.touched" danger>Message is empty</p>
            <!-- TODO disable the button if form is invalid -->
            <button block>
                <ion-icon name="add"></ion-icon>Add</button>
        </form>
    </ion-list>
    <!-- Angular 2 way of doing <p ngShow="myData"> bla bla </p> -->
    <p *ngIf="myData">
        You submitted:
        <br/>Subject: "<strong>{{ myData.subject }}</strong>"
        <br/> Message: "<strong>{{ myData.message }}</strong>"
    </p>
</ion-content>
